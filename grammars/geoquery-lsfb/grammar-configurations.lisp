(in-package :slp)

(def-fcg-constructions geoquery-lsfb
  :feature-types ((subunits set)
                  (args set-of-predicates)
                  (footprints set)
                  (form set-of-predicates)
                  (meaning set-of-predicates)
                  (phon-cat set-of-predicates)
                  (boundaries set-of-predicates)
                  (composing-units set-of-predicates))
  :hierarchy-features (subunits)
  :diagnostics ()
  :repairs ()
  :fcg-configurations ((:parse-goal-tests :no-applicable-cxns :connected-semantic-network)
                       (:production-goal-tests :no-applicable-cxns :no-meaning-in-root :connected-structure)
                       (:node-tests :check-duplicate :restrict-nr-of-nodes :restrict-search-depth)
                       (:max-number-of-nodes . 200)
                       (:max-search-depth . 50)
                       (:render-mode . :signed-form-predicates)
                       (:de-render-mode . :signed-form-predicates)
                       (:shuffle-cxns-before-application . t)
                       (:draw-meaning-as-network . t)
                       (:construction-inventory-processor-mode . :heuristic-search)
                       (:node-expansion-mode . :full-expansion)
                       (:search-algorithm . :best-first)
                       (:heuristic-value-mode . :sum-heuristics-and-parent)
                       (:cxn-supplier-mode . :all-cxns)
                       (:heuristics :nr-of-applied-cxns)
                       (:category-linking-mode . :neighbours))
  
  :visualization-configurations ((:with-search-debug-data . t)
                                 (:show-categorial-network . t)
                                 (:remove-empty-units . nil)
                                 (:show-constructional-dependencies . nil)
                                 (:labeled-paths . nil)
                                 (:colored-paths . nil)
                                 (:hide-features . nil)
                                 (:hierarchy-features subunits)
                                 (:selected-hierarchy . subunits)
                                 (:select-subfeatures . nil))
  :cxn-inventory *geoquery-lsfb*)